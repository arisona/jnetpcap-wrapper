<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) on Wed Feb 01 17:41:32 EST 2023 -->
<title>org.jnetpcap (Public API for jNetPcap 2.0.0-alpha.1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-02-01">
<meta name="description" content="declaration: module: org.jnetpcap, package: org.jnetpcap">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../module-summary.html">Module</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#package">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Package:</p>
<ul>
<li><a href="#package-description">Description</a></li>
<li><a href="#related-package-summary">Related Packages</a></li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<div class="sub-title"><span class="module-label-in-package">Module</span>&nbsp;<a href="../../module-summary.html">org.jnetpcap</a></div>
<h1 title="Package org.jnetpcap" class="title">Package org.jnetpcap</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.jnetpcap</span></div>
<section class="package-description" id="package-description">
<div class="block">The Packet Capture library provides a high level interface to packet capture
 systems. All packets on the network, even those destined for other hosts, are
 accessible through this mechanism. It also supports saving captured packets
 to a ``savefile'', and reading packets from a ``savefile''.
 
 <h2>Opening a capture handle for reading</h2>
 <p>
 To open a handle for a live capture, given the name of the network or other
 interface on which the capture should be done, call pcap_create(), set the
 appropriate options on the handle, and then activate it with
 <a href="Pcap.html#activate()"><code>Pcap.activate()</code></a>. If pcap_activate() fails, the handle
 should be closed with <a href="Pcap.html#close()"><code>Pcap.close()</code></a>.
 </p>
 
 <p>
 To obtain a list of devices that can be opened for a live capture, call
 <a href="Pcap.html#findAllDevs()"><code>Pcap.findAllDevs()</code></a>; the list is automatically freed by
 <em>jNePcap</em>. <a href="Pcap.html#lookupDev()"><code>Pcap.lookupDev()</code></a> will return the first
 device on that list that is not a ``loopback`` network interface.
 </p>
 
 <p>
 To open a handle for a ``savefile'' from which to read packets, given the
 pathname of the ``savefile'', call pcap_open_offline(); to set up a handle
 for a ``savefile'', given a FILE * referring to a file already opened for
 reading, call <a href="Pcap.html#openOffline(java.io.File)"><code>Pcap.openOffline(java.io.File)</code></a>.
 </p>
 
 <p>
 In order to get a ``fake'' pcap_t for use in routines that require a pcap_t
 as an argument, such as routines to open a ``savefile'' for writing and to
 compile a filter expression, call <a href="Pcap.html#openDead(org.jnetpcap.constant.PcapDlt,int)"><code>Pcap.openDead(org.jnetpcap.constant.PcapDlt, int)</code></a>.
 </p>
 
 <p>
 <a href="Pcap.html#create(org.jnetpcap.PcapIf)"><code>Pcap.create(org.jnetpcap.PcapIf)</code></a>, <a href="Pcap.html#openOffline(java.io.File)"><code>Pcap.openOffline(java.io.File)</code></a>,
 pcap_fopen_offline(), and <a href="Pcap.html#openDead(org.jnetpcap.constant.PcapDlt,int)"><code>Pcap.openDead(org.jnetpcap.constant.PcapDlt, int)</code></a> return a pointer
 to a pcap_t, which is the handle used for reading packets from the capture
 stream or the ``savefile'', and for finding out information about the capture
 stream or ``savefile''. To close a handle, use pcap_close().
 </p>
 
 <p>
 Here is an example which uses PcapReceiver and several of its functional
 packet handler interfaces.
 </p>
 
 <pre>
 <code>
try (Pcap pcap = Pcap.openOffline(PCAP_FILE)) {

        BpFilter filter = pcap.compile("tcp", true);

        pcap.setFilter(filter);

        pcap.loop(1, PcapExample1::nextDefault, "Hello, this is copy to byte[] from Pcap class dispatch");

        PcapReceiver handler = new PcapReceiver(pcap::loop);

        handler.forEachCopy(1, PcapExample1::nextDefault, "Hello, this is copy to byte[] dispatch");
        handler.forEachCopy(1, PcapExample1::nextByteBuffer, "Helllo, this is copy to ByteBuffer dispatch");
        handler.forEachDirect(1, PcapExample1::nextByteBuffer, "Hello, this is no-copy, direct ByteBuffer dispatch");
}
...
private static void nextByteBuffer(String message, PcapHeader header, ByteBuffer packet) {

        System.out.println(message);
        System.out.printf("Packet [timestamp=%s, wirelen=%-4d caplen=%-4d %s]%n",
                        Instant.ofEpochMilli(header.toEpochMillis()),
                        header.wireLength(),
                        header.captureLength(),
                        PcapUtils.toHexCurleyString(packet.limit(6)));
}

private static void nextDefault(String message, PcapHeader header, byte[] packet) {

        System.out.println(message);
        System.out.printf("Packet [timestamp=%s, wirelen=%-4d caplen=%-4d %s]%n",
                        Instant.ofEpochMilli(header.toEpochMillis()),
                        header.wireLength(),
                        header.captureLength(),
                        PcapUtils.toHexCurleyString(packet, 0, 6));
}
 </code>
 </pre>
 
 Output:
 
 <pre>
Hello, this is copy to byte[] from Pcap class dispatch
Packet [timestamp=2011-03-01T20:45:13.266Z, wirelen=74   caplen=74   {00:26:62:2f:47:87}]
Hello, this is copy to byte[] dispatch
Packet [timestamp=2011-03-01T20:45:13.313Z, wirelen=74   caplen=74   {00:1d:60:b3:01:84}]
Helllo, this is copy to ByteBuffer dispatch
Packet [timestamp=2011-03-01T20:45:13.313Z, wirelen=66   caplen=66   {00:26:62:2f:47:87}]
Hello, this is no-copy, direct ByteBuffer dispatch
Packet [timestamp=2011-03-01T20:45:13.313Z, wirelen=200  caplen=200  {00:26:62:2f:47:87}]
 </pre>
 
 <p>
 First the <a href="Pcap.html#loop(int,org.jnetpcap.PcapHandler.OfArray,U)"><code>Pcap.loop(int, org.jnetpcap.PcapHandler.OfArray, Object)</code></a> is
 used to dispatch 1 packet. A single simple dispatcher type is provided
 directly with Pcap class, as it is per native loop/dispatch calls available
 from libpcap. Then a <a href="util/PcapReceiver.html" title="class in org.jnetpcap.util"><code>PcapReceiver</code></a> is setup with
 additional capabilities and more advanced dispatch methods. Notice that both
 copy and no-copy of packet data handlers are available through
 <a href="util/PcapReceiver.html" title="class in org.jnetpcap.util"><code>PcapReceiver</code></a>.
 </p></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Sly Technologies, repos@slytechs.com</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="constant/package-summary.html">org.jnetpcap.constant</a></div>
<div class="col-last even-row-color">
<div class="block">Various libpcap related constants</div>
</div>
<div class="col-first odd-row-color"><a href="util/package-summary.html">org.jnetpcap.util</a></div>
<div class="col-last odd-row-color">
<div class="block">Utilities for jNetPcap library</div>
</div>
<div class="col-first even-row-color"><a href="windows/package-summary.html">org.jnetpcap.windows</a></div>
<div class="col-last even-row-color">
<div class="block">Provides support for <em>Pcap</em> on Microsoft Windows platforms.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exception Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BpFilter.html" title="class in org.jnetpcap">BpFilter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Berkley Packet Filter program.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap.html" title="class in org.jnetpcap">Pcap</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Entry point and base class for all Pcap API methods provided by jNetPcap
 library.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="Pcap.LibraryPolicy.html" title="interface in org.jnetpcap">Pcap.LibraryPolicy</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">An interface which provides a hook into Pcap initialization process.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap.Linux.html" title="class in org.jnetpcap">Pcap.Linux</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Linux only/specific calls.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Pcap.Unix.html" title="class in org.jnetpcap">Pcap.Unix</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Unix only/specific calls.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap0_4.html" title="class in org.jnetpcap">Pcap0_4</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 0.4</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Pcap0_5.html" title="class in org.jnetpcap">Pcap0_5</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 0.5</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap0_6.html" title="class in org.jnetpcap">Pcap0_6</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 0.6</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Pcap0_7.html" title="class in org.jnetpcap">Pcap0_7</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 0.8</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap0_8.html" title="class in org.jnetpcap">Pcap0_8</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 0.8</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Pcap0_9.html" title="class in org.jnetpcap">Pcap0_9</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 0.8</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap1_0.html" title="class in org.jnetpcap">Pcap1_0</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 1.0</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Pcap1_10.html" title="class in org.jnetpcap">Pcap1_10</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 1.9</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap1_2.html" title="class in org.jnetpcap">Pcap1_2</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 1.2</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Pcap1_5.html" title="class in org.jnetpcap">Pcap1_5</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 1.5</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Pcap1_9.html" title="class in org.jnetpcap">Pcap1_9</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides Pcap API method calls for up to libpcap version 1.9</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PcapDumper.html" title="class in org.jnetpcap">PcapDumper</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Dump packets to a capture file.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="PcapException.html" title="class in org.jnetpcap">PcapException</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Checked Pcap errors, warnings and exceptions.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="PcapHandler.html" title="interface in org.jnetpcap">PcapHandler</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A marker interface for all Pcap packet handling functional interfaces.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="PcapHandler.OfArray.html" title="interface in org.jnetpcap">PcapHandler.OfArray</a>&lt;U&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A safe packet handler which receives copies of packets in a byte array.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="PcapHandler.OfArrayAtOffset.html" title="interface in org.jnetpcap">PcapHandler.OfArrayAtOffset</a>&lt;U&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A safe packet handler which receives copies of packets in a byte array at
 different offsets into a byte array.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="PcapHandler.OfByteBuffer.html" title="interface in org.jnetpcap">PcapHandler.OfByteBuffer</a>&lt;U&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A safe <code>ByteBuffer</code> packet handler.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="PcapHandler.OfMemoryAddress.html" title="interface in org.jnetpcap">PcapHandler.OfMemoryAddress</a>&lt;U&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">An advanced low level, no copy, packet handler.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="PcapHandler.OfMemorySegment.html" title="interface in org.jnetpcap">PcapHandler.OfMemorySegment</a>&lt;U&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">An advanced low level, no copy, packet handler.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="PcapHandler.PacketSink.html" title="interface in org.jnetpcap">PcapHandler.PacketSink</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A marker interface implemented by all packet sinks.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="PcapHandler.PacketSink.PcapPacketSink.html" title="interface in org.jnetpcap">PcapHandler.PacketSink.PcapPacketSink</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A functional interface and specialization implemented by packet sinks.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="PcapHandler.PacketSource.html" title="interface in org.jnetpcap">PcapHandler.PacketSource</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A marker interface implemented by all packet sources.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="PcapHandler.PacketSource.PcapPacketSource.html" title="interface in org.jnetpcap">PcapHandler.PacketSource.PcapPacketSource</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A functional interface and specialization implemented by packet sources.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="PcapHeader.html" title="interface in org.jnetpcap">PcapHeader</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">The pcap header which describes how many bytes of a packet were seen on the
 network, how many were actually captured and the capture timestamp.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PcapIf.html" title="class in org.jnetpcap">PcapIf</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Native Type pcap_if_t has the following members.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PcapIf.PcapAddr.html" title="class in org.jnetpcap">PcapIf.PcapAddr</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">The struct pcap_addr structure containing network interfaces/devices
 addresses.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PcapIf.SockAddr.html" title="class in org.jnetpcap">PcapIf.SockAddr</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">The low level sockaddr structure containing an address of different types,
 depending on the protocol family value.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PcapMessages.html" title="class in org.jnetpcap">PcapMessages</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Pcap message localizer.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="PcapStat.html" title="interface in org.jnetpcap">PcapStat</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Packet statistics from the start of the pcap run to the time of the call.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="http://slytechs.com">Sly Technologies Inc</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>